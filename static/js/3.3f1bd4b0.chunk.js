(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[3],{100:function(e,t,a){e.exports={Input:"Input_Input__1V4hE",ContactDataInput:"Input_ContactDataInput__2dU67",ContactDataInputElement:"Input_ContactDataInputElement__1GL_K",Label:"Input_Label__3DpAD",InputElement:"Input_InputElement__rhet_",Invalid:"Input_Invalid__ew1WL"}},102:function(e,t,a){e.exports={CheckoutSummery:"CheckoutSummery_CheckoutSummery__Knkie"}},103:function(e,t,a){e.exports={ContactData:"ContactData_ContactData__1ZA6b"}},106:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(11),o=a(13),i=a(12),c=a(1),s=a(15),u=a(4),l=a(55),d=a(34),h=a(102),p=a.n(h),m=a(0),b=function(e){return Object(m.jsxs)("div",{className:p.a.CheckoutSummery,children:[Object(m.jsx)("h1",{children:"We hope it tastes well!"}),Object(m.jsx)("div",{style:{width:"100%",margin:"auto"},children:Object(m.jsx)(l.a,{ingredients:e.ingredients})}),Object(m.jsx)(d.a,{btnType:"Danger",clicked:e.checkoutCanceled,children:"CANCEL"}),Object(m.jsx)(d.a,{btnType:"Success",clicked:e.checkoutContinued,children:"CONTINUE"})]})},j=a(5),g=a(17),v=a(21),f=a(98),O=a(44),C=a(103),x=a.n(C),y=a(45),k=a(99),I=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={orderForm:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Name"},valueType:"Name",errorMessage:"Please enter a valid Name",value:e.props.contactData.userName,valid:!0,validation:{required:!0,minLength:3,maxLength:10,isName:!0},touched:!1},address:{elementType:"textarea",elementConfig:{type:"text",placeholder:"Your Address"},valueType:"Address",errorMessage:"Please enter a valid Address",value:e.props.contactData.address,valid:!0,touched:!1,validation:{required:!0,minLength:6}},mobileNumber:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Mobile"},valueType:"Phone",errorMessage:"Please enter a valid Mobile",value:e.props.contactData.mobile,valid:!0,touched:!1,validation:{required:!0,isMobile:!0}}},formIsValid:!0},e.orderHandler=function(t){t.preventDefault();var a={};for(var n in e.state.orderForm)a[n]=e.state.orderForm[n].value;var r={ingredients:e.props.ingredients,totalPrice:e.props.totalPrice,customer:a,userOrderId:e.props.userOrderId};e.props.onOrderBurger(r,e.props.token)},e.inputChangeHandler=function(t,a){var n=Object(j.a)({},e.state.orderForm),r=Object(j.a)({},n[a]);r.value=t.target.value,r.valid=Object(k.a)(r.validation,r.value),n[a]=r,e.setState({orderForm:n})},e.errorHandler=function(t){var a=Object(j.a)({},e.state.orderForm),n=Object(j.a)({},a[t]);n.touched=!0,a[t]=n,e.setState({orderForm:a})},e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=!0;for(var n in this.state.orderForm)a=this.state.orderForm[n].valid&&a;t.formIsValid!==a&&this.setState({formIsValid:a})}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.orderForm)t.push({id:a,config:this.state.orderForm[a]});var n=Object(m.jsx)("form",{children:t.map((function(t){return Object(m.jsx)(f.a,{customClassName:!0,errorMessage:t.config.errorMessage,invalid:!t.config.valid,touched:t.config.touched,label:t.config.valueType,elementtype:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,changed:function(a){return e.inputChangeHandler(a,t.id)},errorHandler:function(){return e.errorHandler(t.id)}},t.id)}))});return this.props.loading&&(n=Object(m.jsx)(O.a,{})),Object(m.jsxs)("div",{className:x.a.ContactData,children:[Object(m.jsx)("h1",{children:"Enter your Contact Data"}),n,Object(m.jsx)(d.a,{disabled:!this.state.formIsValid,btnType:"Success",clicked:this.orderHandler,children:"ORDER"})]})}}]),a}(c.Component),D=Object(s.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,loading:e.order.loading,token:e.auth.token,userOrderId:e.auth.userOrderId,contactData:e.auth.contactData,email:e.auth.email}}),(function(e){return{onOrderBurger:function(t,a){return e(v.h(t,a))}}}))(Object(y.a)(I,g.a)),_=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).checkoutCanceled=function(){e.props.history.goBack()},e.checkoutContinued=function(){e.props.history.replace("/checkout/contact-data")},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.onFetchContactData(this.props.token,this.props.email)}},{key:"render",value:function(){var e=Object(m.jsx)(u.a,{to:"/"}),t=this.props.redirect?Object(m.jsx)(u.a,{to:"/"}):null;return this.props.ingredients&&(e=Object(m.jsxs)("div",{children:[Object(m.jsx)(b,{ingredients:this.props.ingredients,checkoutCanceled:this.checkoutCanceled,checkoutContinued:this.checkoutContinued}),Object(m.jsx)(u.b,{path:"".concat(this.props.match.path,"/contact-data"),component:D})]})),Object(m.jsxs)(c.Fragment,{children:[t,e]})}}]),a}(c.Component);t.default=Object(s.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,redirect:e.order.redirect,userOrderId:e.auth.userOrderId,contactData:e.auth.contactData,loading:e.auth.loading,token:e.auth.token,email:e.auth.email}}),(function(e){return{onFetchContactData:function(t,a){return e(v.d(t,a))}}}))(_)},98:function(e,t,a){"use strict";var n=a(5),r=a(1),o=a(100),i=a.n(o),c=a(0);t.a=function(e){var t=null,a=null,o=[i.a.InputElement];switch(e.customClassName&&(o=[i.a.ContactDataInputElement]),e.invalid&&e.touched&&(o.push(i.a.Invalid),a=Object(c.jsx)("p",{style:{margin:"5px 0",color:"red",textAlign:"left"},children:e.errorMessage})),e.elementtype){case"input":t=Object(c.jsx)("input",Object(n.a)(Object(n.a)({className:o.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed,onBlur:e.errorHandler}));break;case"textarea":t=Object(c.jsx)("textarea",Object(n.a)(Object(n.a)({className:o.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed,onBlur:e.errorHandler}));break;default:t=Object(c.jsx)("input",Object(n.a)(Object(n.a)({className:o.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}))}return Object(c.jsxs)(r.Fragment,{children:[" ",Object(c.jsxs)("div",{className:e.customClassName?i.a.ContactDataInput:i.a.Input,children:[Object(c.jsx)("label",{className:i.a.Label,children:e.label}),Object(c.jsxs)("div",{style:e.customClassName?{width:"80%"}:null,children:[t,a]})]})]})}},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e,t){var a=!0;if(e.required&&(a=""!==t.trim()&&a),e.minLength&&(a=t.length>=e.minLength&&a),e.maxLength&&(a=t.length<=e.maxLength&&a),e.isEmail){a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())&&a}if(e.isMobile){a=/^(010|011|012|015)[0-9]{8}$/.test(String(t).toLowerCase())&&a}if(e.isName){a=/^[a-zA-Z]{2,10}$/.test(String(t).toLowerCase())&&a}return a}}}]);
//# sourceMappingURL=3.3f1bd4b0.chunk.js.map